document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("loading-container"),t=document.getElementById("container_video"),n=document.getElementById("video");if("undefined"==typeof videoUrl||!videoUrl){console.error("Video URL is not defined");return}if("undefined"!=typeof Hls&&Hls.isSupported()){let o=new Hls({startLevel:0,autoStartLoad:!0,maxBufferLength:10,maxMaxBufferLength:30,maxLoadingDelay:4,enableWorker:!0,debug:!1});o.on(Hls.Events.MANIFEST_LOADING,function(){e.style.display="block",t.style.display="none"}),o.on(Hls.Events.FRAG_LOADED,function(o,a){"main"===a.frag.type&&(e.style.display="none",t.style.display="block",n.play().catch(()=>{}))}),o.loadSource(videoUrl),o.attachMedia(n)}else n.canPlayType("application/vnd.apple.mpegurl")&&(n.src=videoUrl,n.addEventListener("loadedmetadata",function(){e.style.display="none",t.style.display="block",n.play().catch(()=>{})}))}),$(document).ready(function(){window.addEventListener("contextmenu",e=>e.preventDefault());let e=!1;function t(){$("#container_video").removeClass("fullscreen"),$("body").removeClass("noscroll"),$("#popup").fadeOut(),$("#close").fadeOut(),$("#video").fadeOut("fast",function(){$(this).trigger("pause").prop("muted",!0),$("#order").fadeIn("fast",function(){$("html, body").animate({scrollTop:$("#order").offset().top-20},200)})}),$("#open-video").fadeOut("fast")}function n(){try{let e=$("#video").get(0);if(!e)return;e.pause(),e.muted=!0,e.volume=0}catch(t){}}function o(e){if(!e)return;let t=!1;function o(){let o=function t(){try{let n=getComputedStyle(e);if(!n||"none"===n.display||"hidden"===n.visibility||"0"===n.opacity)return!1;let o="fixed"===n.position,a=e.offsetWidth>0&&e.offsetHeight>0;return(o||null!==e.offsetParent)&&a}catch(d){return!1}}();o&&!t?(n(),t=!0):!o&&t&&(t=!1)}let a=new MutationObserver(o);a.observe(e,{attributes:!0,attributeFilter:["style","class"]});let d=setInterval(function(){if(!document.contains(e)){clearInterval(d);return}o()},200);o()}$("#play").on("click",function(){window.scrollTo(0,0),$(this).fadeOut("fast",function(){$("#video").prop("muted",!1).prop("currentTime",0).trigger("play"),$("#container_video").addClass("fullscreen"),$("body").addClass("noscroll"),$("#close").fadeIn()})}),$("#open-video").on("click",function(){window.scrollTo(0,0),$(this).fadeOut("fast",function(){$("#container_video").addClass("fullscreen"),$("body").addClass("noscroll"),$("#close").fadeIn();let t=$("#video").prop("currentTime")||0;!e&&"undefined"!=typeof start&&t>=start&&($("#popup").fadeIn("fast"),e=!0)})}),$("#video").on("timeupdate",function(){let t=this.currentTime||0;!e&&"undefined"!=typeof start&&t>=start&&($("#popup").fadeIn("fast"),e=!0)}).on("ended",t),$("#popup").on("click",t),$("#close").on("click",function(){$(this).hide(),$("#container_video").removeClass("fullscreen"),$("body").removeClass("noscroll"),$("#open-video").fadeIn("fast"),$("#popup").fadeOut("fast")}),window.addEventListener("popstate",function(){n()},!0),!function e(){let t=document.getElementById("LandFrame")||document.getElementsByName("LandFrame")[0],n=document.getElementById("ShowcaseFrame")||document.getElementsByName("ShowcaseFrame")[0];t&&o(t),n&&o(n)}();let a=new MutationObserver(function(e){e.forEach(function(e){(e.addedNodes||[]).forEach(function(e){if(e&&1===e.nodeType&&"IFRAME"===e.tagName){let t=(e.id||"").toLowerCase(),n=(e.name||"").toLowerCase();("landframe"===t||"landframe"===n||"showcaseframe"===t||"showcaseframe"===n)&&o(e)}})})});a.observe(document.documentElement,{childList:!0,subtree:!0}),function e(){let t=!1,n="undefined"==typeof form||isNaN(form)?0:Number(form),o=document.getElementById("video");function a(){let e=o&&"number"==typeof o.currentTime?o.currentTime:0;!t&&e>=n&&($("#order").stop(!0,!0).fadeIn("fast"),t=!0,$("#video").off("timeupdate.order",a))}$("#video").on("timeupdate.order",a),a()}()});
